# ZAlexanderV_infra
### ДЗ№ 4
В рамках этого задания были выполнены задачи:
 - созданы скрипты для установки необходимого ПО в образы ВМ(базовый и полный)
 - создан system unit файл для автоматической загрузки ПО
 - создан сервисный аккаунт в яндекс облаке
 - созданы файлы для packer в параметризованом виде
 - запущен и протестирован полный образ с приложением
 - добавлен скрипт для автоматического развёртывания образа в инфре

### Запуск проекта
Запуск базового образа
- перейти в папку packer
- создать файл variables.json из variables.json.examples
- выполнить ```packer build -var-file=variables.json ubuntu16.json```

Запуск полного образа
- перейти в папку packer
- создать файл variables.json из variables.json.examples
- выполнить  ```packer build  -var-file=variables.json immutable.json```

Создание ВМ с установленным ПО
- сконфигурировать аккаунт YC
- создать полный образ ВМ
- зайти в директорию packer/files
- запустить create-reddit-vm.sh


### Д3№ 8
В рамках этого задания были выполнены задачи:
 - установлен ansible на управляющий хост
 - созданы файлы нстройки ansible
 - создан статический инвентарь для работы с хостами
 - создан файл генерации динамической инфраструктуры
 - создан плейбук для конвертации инвентаря


### Запуск проекта
Запуск базового образа
- перейти в папку ansible
- выполнить ```ansible-playbook -i inventory clone.yml```
- выполнить ```dyn_inventory.py [--list|--host]  ```

### Д3№ 9
 - созданы плейбук с одним и несколькими сценариями
 - созданы шаблоны конфигурационных файлов для ansible
 - созданы сценарии настройки базового ПО для запуска из packer
 - проверена работоспособность файлов в packer версии 1.5 со встроенным ansible провиженером
 - создан дополнительный файл packer для версии 1.10 который использует новый плагин ansible
